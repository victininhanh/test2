exports.unpack = function(msg, packager) {
	var length = parseInt(msg.substring(0, 3), 10);
	
	if(length > packager.length) {
		length = packager.length;
	}
	
	var result = {
		data: msg.substring(3, length + 3),
		chunk: msg.substring(0, length + 3),
		restData: msg.substring(length + 3)
	};
	return result;
};

exports.pack = function(row, packager) {
	var length = row.length;
	if (length > packager.length) {
    console.log('PACK CUT llan: length > packager.length', row, row.length, packager.length);
  	length = packager.length;
	}
	
	var msg = '' + length;
	
	if (length < 10) {
    console.log('PACK INS 00 llan: 1st check length < 10, orgmsg =', msg , 'row = ', row);
		msg = '00' + msg;
	} else if (length < 100) {
    console.log('PACK INS 0  llan: 2st check length < 100, orgmsg =', msg, 'row = ', row);
		msg = '0' + msg;
	}
	
	return {
		msg: msg + row.substr(0, length)
	}
};

